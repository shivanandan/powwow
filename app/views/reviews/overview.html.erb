<h1>Reviews Overview</h1>
<br>
<hr>
Links to : <%= link_to "All Reviews", reviews_path %> / <%= link_to "Add Reviewer", new_participant_path %> <!-- / <%= link_to 'All Reviewers', all_reviewers_path %> -->
<hr>
<br>
<p>To view a reviews, click on the submission's title.</p>
<table id="" class="table table-striped table-hover table-bordered datatable">
	<thead>
		<th>Submission Title</th>
		<th>Applicant</th>
		<th>Reviewer 1</th>
		<th>Reviewer 2</th>
		<th>Reviewer 3</th>
	</thead>
	<tbody>
		<% @submissions.each do |s| %>
		<tr id="s<%= s.id %>">
			<td><%= link_to s.title, submission_path(s) %></td>
			<td><%= s.user.full_name %></td>
			<td id="s<%= s.id %>-<%= s.reviews[0].id unless s.reviews[0].nil? %>">
				<%= s.reviews[0].user.full_name unless s.reviews[0].nil? %>
				<%= link_to "Assign", get_free_reviewers_path(s.id), :remote => 'true' if s.reviews[0].nil? %>
				<%= link_to "Unassign", unassign_reviewer_path(s.id, s.reviews[0].user.id), :method => 'delete', :remote=>true, data: { confirm: 'Are you sure you want to unassign this reviewer? All data associated with this reviewer will also be destroyed. PROCEED WITH CAUTION!' }  unless s.reviews[0].nil? %>
			</td>
			<td id="s<%= s.id %>-<%= s.reviews[1].id unless s.reviews[1].nil? %>">
				<%= s.reviews[1].user.full_name unless s.reviews[1].nil? %>
				<%= link_to "Assign", get_free_reviewers_path(s.id), :remote => 'true' if s.reviews[1].nil? %>
				<%= link_to "Unassign", unassign_reviewer_path(s.id, s.reviews[1].user.id), :method => 'delete', :remote=>true, data: { confirm: 'Are you sure you want to unassign this reviewer? All data associated with this reviewer will also be destroyed. PROCEED WITH CAUTION!' }  unless s.reviews[1].nil? %>
			</td>
			<td id="s<%= s.id %>-<%= s.reviews[2].id unless s.reviews[2].nil? %>">
				<%= s.reviews[2].user.full_name unless s.reviews[2].nil? %>
				<%= link_to "Assign", get_free_reviewers_path(s.id), :remote => 'true' if s.reviews[2].nil? %>
				<%= link_to "Unassign", unassign_reviewer_path(s.id, s.reviews[2].user.id), :method => 'delete', :remote=>true, data: { confirm: 'Are you sure you want to unassign this reviewer? All data associated with this reviewer will also be destroyed. PROCEED WITH CAUTION!' }  unless s.reviews[2].nil? %>
			</td>
		</tr>
		<% end %>
	</tbody>
</table>